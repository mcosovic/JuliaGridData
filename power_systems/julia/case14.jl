using JuliaGrid

@power(MW, MVAr, MVA)
@voltage(pu, deg, kV)

system = powerSystem()

@bus(minMagnitude = 0.94, maxMagnitude = 1.06, area = 1, lossZone = 1)
addBus!(system; label = 1, type = 3, base = 230, magnitude = 1.06)
addBus!(system; label = 2, type = 2, base = 230, active = 21.7, reactive = 12.7, magnitude = 1.045, angle = -4.98)
addBus!(system; label = 3, type = 2, base = 230, active = 94.2, reactive = 19, magnitude = 1.01, angle = -12.72)
addBus!(system; label = 4, type = 1, base = 230, active = 47.8, reactive = -3.9, magnitude = 1.019, angle = -10.33)
addBus!(system; label = 5, type = 1, base = 230, active = 7.6, reactive = 1.6, magnitude = 1.02, angle = -8.78)
addBus!(system; label = 6, type = 2, base = 115, active = 11.2, reactive = 7.5, magnitude = 1.07, angle = -14.22)
addBus!(system; label = 7, type = 1, base = 115, magnitude = 1.062, angle = -13.37)
addBus!(system; label = 8, type = 2, base = 115, magnitude = 1.09, angle = -13.36)
addBus!(system; label = 9, type = 1, base = 115, active = 29.5, reactive = 16.6, susceptance = 19, magnitude = 1.056, angle = -14.94)
addBus!(system; label = 10, type = 1, base = 115, active = 9, reactive = 5.8, magnitude = 1.051, angle = -15.1)
addBus!(system; label = 11, type = 1, base = 115, active = 3.5, reactive = 1.8, magnitude = 1.057, angle = -14.79)
addBus!(system; label = 12, type = 1, base = 115, active = 6.1, reactive = 1.6, magnitude = 1.055, angle = -15.07)
addBus!(system; label = 13, type = 1, base = 115, active = 13.5, reactive = 5.8, magnitude = 1.05, angle = -15.16)
addBus!(system; label = 14, type = 1, base = 115, active = 14.9, reactive = 5, magnitude = 1.036, angle = -16.04)

addBranch!(system; from = 1, to = 2, resistance = 0.01938, reactance = 0.05917, susceptance = 0.0528)
addBranch!(system; from = 1, to = 5, resistance = 0.05403, reactance = 0.22304, susceptance = 0.0492)
addBranch!(system; from = 2, to = 3, resistance = 0.04699, reactance = 0.19797, susceptance = 0.0438)
addBranch!(system; from = 2, to = 4, resistance = 0.05811, reactance = 0.17632, susceptance = 0.034)
addBranch!(system; from = 2, to = 5, resistance = 0.05695, reactance = 0.17388, susceptance = 0.0346)
addBranch!(system; from = 3, to = 4, resistance = 0.06701, reactance = 0.17103, susceptance = 0.0128)
addBranch!(system; from = 4, to = 5, resistance = 0.01335, reactance = 0.04211)
addBranch!(system; from = 4, to = 7, reactance = 0.20912, turnsRatio = 0.978)
addBranch!(system; from = 4, to = 9, reactance = 0.55618, turnsRatio = 0.969)
addBranch!(system; from = 5, to = 6, reactance = 0.25202, turnsRatio = 0.932)
addBranch!(system; from = 6, to = 11 ,resistance = 0.09498, reactance = 0.1989)
addBranch!(system; from = 6, to = 12, resistance = 0.12291, reactance = 0.25581)
addBranch!(system; from = 6, to = 13, resistance = 0.06615, reactance = 0.13027)
addBranch!(system; from = 7, to = 8, reactance = 0.17615)
addBranch!(system; from = 7, to = 9, reactance = 0.11001)
addBranch!(system; from = 9, to = 10, resistance = 0.03181, reactance = 0.0845)
addBranch!(system; from = 9, to = 14, resistance = 0.12711, reactance = 0.27038)
addBranch!(system; from = 10, to = 11, resistance = 0.08205, reactance = 0.19207)
addBranch!(system; from = 12, to = 13, resistance = 0.22092, reactance = 0.19988)
addBranch!(system; from = 13, to = 14, resistance = 0.17093, reactance = 0.34802)

addGenerator!(system; label = 1, bus = 1, magnitude = 1.06, active = 232.4, reactive = -16.9, maxActive = 332.4, maxReactive = 10)
addGenerator!(system; label = 2, bus = 2, magnitude = 1.045, active = 40, reactive = 42.4, maxActive = 140, minReactive = -40, maxReactive = 50)
addGenerator!(system; label = 3, bus = 3, magnitude = 1.01, reactive = 23.4, maxActive = 100, maxReactive = 40)
addGenerator!(system; label = 4, bus = 6, magnitude = 1.07, reactive = 12.2, maxActive = 100, minReactive = -6, maxReactive = 24)
addGenerator!(system; label = 5, bus = 8, magnitude = 1.09, reactive = 17.4, maxActive = 100, minReactive = -6, maxReactive = 24)

cost!(system; generator = 1, active = 2, polynomial = [0.0430292599, 20, 0])
cost!(system; generator = 2, active = 2, polynomial = [0.25; 20; 0.0])
cost!(system; generator = 3, active = 2, polynomial = [0.01; 40; 0.0])
cost!(system; generator = 4, active = 2, polynomial = [0.01; 40; 0.0])
cost!(system; generator = 5, active = 2, polynomial = [0.01; 40; 0.0])